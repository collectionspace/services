<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="object" language="groovy" pageWidth="792" pageHeight="612" orientation="Landscape" whenNoDataType="NoDataSection" columnWidth="752" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="08c07c03-a97f-496c-ba55-729ff2d71763">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="Title" fontName="SansSerif" fontSize="26" isBold="true" pdfFontName="Helvetica-Bold"/>
	<style name="SubTitle" forecolor="#666666" fontName="SansSerif" fontSize="18"/>
	<style name="Column header" forecolor="#666666" fontName="SansSerif" fontSize="12" isBold="true"/>
	<style name="Detail" fontName="SansSerif" fontSize="12"/>
	<parameter name="deurnfields" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["site,objectname,productionpeople"]]></defaultValueExpression>
	</parameter>
	<parameter name="tenantid" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[15]]></defaultValueExpression>
	</parameter>
	<parameter name="csid" class="java.lang.String">
		<defaultValueExpression><![CDATA["a450d86b-68d9-431b-ba0a"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
lic.loaninnumber loanInNumber,
case when (lg.lender is not null and lg.lender <> '') then
 regexp_replace(lg.lender, '^.*\)''(.*)''$', '\1')
 else ''
end AS lender,
lic.loanInDate as loanInDate,
lic.loanReturnDate as loanReturnDate,
lic.loanInNote as loanInNote,
h1.name AS "csid",
co.objectnumber AS "objectnumber",
co.fieldcollectionplace AS site,
ong.objectName AS "objectname",
bd.item AS description,
oppp.objectproductionpeople AS productionpeople
FROM hierarchy h1
JOIN loansin_common lic ON (lic.id=h1.id)
LEFT OUTER JOIN relations_common rc1 ON (h1.name=rc1.subjectcsid)
LEFT OUTER JOIN hierarchy h2 ON (rc1.objectcsid=h2.name)
LEFT OUTER JOIN collectionobjects_common co ON (h2.id=co.id)
LEFT OUTER JOIN hierarchy h3 ON (co.id = h3.parentid AND h3.primarytype='objectNameGroup' AND h3.pos=0)
LEFT OUTER JOIN objectnamegroup ong ON (ong.id=h3.id)
LEFT OUTER JOIN collectionobjects_common_briefdescriptions bd ON (bd.id=co.id and bd.pos=0)
left outer join hierarchy h4 on (co.id=h4.parentid and h4.pos=0 and h4.name='collectionobjects_common:objectProductionPeopleGroupList')
left outer join objectproductionpeoplegroup oppp on (oppp.id=h4.id)
left outer join hierarchy hlgl on (lic.id=hlgl.parentid and hlgl.pos=0 and hlgl.name='loansin_common:lenderGroupList')
left outer join lendergroup lg on (lg.id=hlgl.id)
LEFT OUTER JOIN misc m ON (m.id = co.id)
WHERE m.lifecyclestate != 'deleted'
AND h1.name = $P{csid}
ORDER BY objectnumber]]>
	</queryString>
	<field name="loaninnumber" class="java.lang.String"/>
	<field name="lender" class="java.lang.String"/>
	<field name="loanindate" class="java.sql.Timestamp"/>
	<field name="loanreturndate" class="java.sql.Timestamp"/>
	<field name="loaninnote" class="java.lang.String"/>
	<field name="csid" class="java.lang.String"/>
	<field name="objectnumber" class="java.lang.String"/>
	<field name="site" class="java.lang.String"/>
	<field name="objectname" class="java.lang.String"/>
	<field name="description" class="java.lang.String"/>
	<field name="productionpeople" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="105" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="84aa8fff-608d-4c31-a918-14b813036fd7" style="SubTitle" stretchType="RelativeToTallestObject" x="145" y="45" width="281" height="20" forecolor="#000000" backcolor="#FFFFFF"/>
				<textElement>
					<font fontName="SansSerif" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{loaninnumber}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="7fbe9d26-6c00-4726-a25a-9a448f2d9898" style="Detail" stretchType="RelativeToTallestObject" x="145" y="65" width="281" height="20" backcolor="#CCCCCC"/>
				<textElement>
					<font fontName="SansSerif" size="14" isItalic="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{lender}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="69990504-b50a-48e9-88fc-19a1010bbae4" x="0" y="0" width="263" height="30"/>
				<textElement verticalAlignment="Middle">
					<font fontName="SansSerif" size="18" isBold="true"/>
				</textElement>
				<text><![CDATA[In Loan Objects]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="f279217c-b0ba-4fb6-8ab0-02d7e3668e4f" x="0" y="45" width="145" height="20"/>
				<textElement>
					<font size="14"/>
				</textElement>
				<text><![CDATA[Loan in number:]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="50f2679c-ebc0-464a-9a0c-1c60ded21f01" stretchType="RelativeToTallestObject" x="0" y="65" width="145" height="20"/>
				<textElement>
					<font size="14"/>
				</textElement>
				<text><![CDATA[Lender:]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="1c342ca2-e638-4306-8949-458bfa615682" stretchType="RelativeToTallestObject" x="0" y="85" width="115" height="20"/>
				<textElement>
					<font size="14"/>
				</textElement>
				<text><![CDATA[Loan in date:]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="b5be4118-57ae-4bca-a22f-6996db31e110" stretchType="RelativeToTallestObject" x="235" y="85" width="110" height="20"/>
				<textElement>
					<font size="14"/>
				</textElement>
				<text><![CDATA[Return date:]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" pattern="dd-MMM-yyyy" isBlankWhenNull="true">
				<reportElement uuid="f292d56e-e4d0-49ea-b748-0d84fec1340b" stretchType="RelativeToTallestObject" x="115" y="85" width="115" height="20"/>
				<textElement>
					<font size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{loanindate}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd-MMM-yyyy" isBlankWhenNull="true">
				<reportElement uuid="4f68a97d-cd04-47b2-a0a0-7081345f92ed" x="345" y="85" width="115" height="20"/>
				<textElement>
					<font size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{loanreturndate}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="efd074e2-215c-442c-a919-059c354dd624" stretchType="RelativeToTallestObject" x="465" y="45" width="285" height="60"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{loaninnote}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="22" splitType="Stretch">
			<line>
				<reportElement uuid="1ce943ae-cab4-4309-8e47-305d860c1690" positionType="FixRelativeToBottom" x="0" y="20" width="752" height="1"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement uuid="92a14667-488b-4088-a178-3b8c005e0932" style="Column header" stretchType="RelativeToTallestObject" x="1" y="2" width="90" height="15"/>
				<textElement>
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<text><![CDATA[Identification #]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="9865ca77-7ebc-4103-a359-9ed1e9902c36" style="Column header" stretchType="RelativeToTallestObject" x="95" y="2" width="120" height="15"/>
				<textElement>
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<text><![CDATA[Object name]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="2bd24c32-4992-4087-9f7a-326cb0445e52" style="Column header" stretchType="RelativeToTallestObject" x="220" y="2" width="240" height="15"/>
				<textElement>
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<text><![CDATA[Brief description]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="6a1a1a95-9170-4e2f-9d39-5fad0b499eea" style="Column header" stretchType="RelativeToTallestObject" x="465" y="2" width="150" height="15"/>
				<textElement>
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<text><![CDATA[Field collection place	]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="60d214ef-d17c-4ceb-86de-b9f7a0c5119e" style="Column header" stretchType="RelativeToTallestObject" x="620" y="2" width="130" height="15"/>
				<textElement>
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<text><![CDATA[Production people]]></text>
			</staticText>
			<line>
				<reportElement uuid="dde73d80-89f5-4300-880d-cfb10424ca0d" x="0" y="0" width="752" height="1"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
		</band>
	</columnHeader>
	<detail>
		<band height="18" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="7cabe161-1233-454c-a786-a51931ff9aa8" style="Detail" positionType="Float" stretchType="RelativeToTallestObject" x="0" y="2" width="90" height="16"/>
				<textElement>
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{objectnumber}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="3919b36e-e625-4915-9fcc-3ac98171d69c" style="Detail" stretchType="RelativeToTallestObject" mode="Transparent" x="95" y="2" width="120" height="16"/>
				<textElement>
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{objectname}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="7fd7e2f0-7df3-4c7a-9ef8-4cbb0e79485a" style="Detail" stretchType="RelativeToTallestObject" mode="Transparent" x="465" y="2" width="150" height="16"/>
				<textElement>
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{site}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="d1bfe218-b60c-4cd9-aae6-0ea2a9de1b60" style="Detail" stretchType="RelativeToTallestObject" mode="Transparent" x="220" y="2" width="240" height="16"/>
				<textElement>
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{description}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="cbb7bb13-38c5-4943-822b-851dc5c0e61e" style="Detail" stretchType="RelativeToTallestObject" mode="Transparent" x="620" y="2" width="130" height="16"/>
				<textElement>
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{productionpeople}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="14" splitType="Stretch">
			<line>
				<reportElement uuid="07724d84-7837-4f5a-9e36-3868854ca40e" positionType="FixRelativeToBottom" x="0" y="7" width="752" height="1"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
		</band>
	</columnFooter>
	<pageFooter>
		<band height="22" splitType="Stretch">
			<textField>
				<reportElement uuid="07372a6b-10f3-46f9-90af-00219d63d73b" style="Column header" x="316" y="3" width="80" height="18"/>
				<textElement textAlignment="Right">
					<font fontName="SansSerif" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement uuid="d64e5229-e7ff-4bee-bbaa-36efd809998f" style="Column header" x="396" y="3" width="40" height="18"/>
				<textElement>
					<font fontName="SansSerif" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="EEEEE dd MMMMM yyyy">
				<reportElement uuid="3d1a9a39-7e7a-4ffb-b991-c5a468b58d92" style="Column header" x="0" y="3" width="197" height="18"/>
				<textElement>
					<font fontName="SansSerif" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
		<noData>
		<band height="50">
			<staticText>
				<reportElement uuid="f449dbd9-0782-4ffc-9296-1c09a978c94b" style="Column header" x="0" y="22" width="375" height="28"/>
				<textElement>
					<font size="14"/>
				</textElement>
				<text><![CDATA[No related objects found for this Loan In.]]></text>
			</staticText>
		</band>
	</noData>
</jasperReport>
